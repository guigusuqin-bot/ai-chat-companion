<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>è´¨å­ 2 å· Â· æ•°æ®è¿æ¥æµ‹è¯•</title>
  <script src="https://unpkg.com/leancloud-storage@4.15.0/dist/av-min.js"></script>
</head>
<body>
  <h1>è´¨å­ 2 å·</h1>
  <p>è¿™æ˜¯è´¨å­ 2 å·ä¸ LeanCloud çš„é¦–æ¬¡è¿æ¥æµ‹è¯•ã€‚</p>
  <button id="save">ğŸ§  ä¸Šä¼ ä¸€æ¡è®°å¿†</button>

  <script>
    // âœ… æ›¿æ¢æˆä½  LeanCloud æ§åˆ¶å°é‡Œçš„ä¿¡æ¯
    AV.init({
      appId: "ä½ çš„AppID",
      appKey: "ä½ çš„AppKey",
      serverURL: "ä½ çš„ServerURL"
    });

    // ç‚¹å‡»æŒ‰é’® -> ä¸Šä¼ ä¸€æ¡æµ‹è¯•æ•°æ®
    document.getElementById("save").onclick = async function() {
      const Memory = AV.Object.extend("Memory");
      const record = new Memory();

      // æ·»åŠ æµ‹è¯•å†…å®¹
      record.set("content", "è´¨å­ 2 å·çš„ç¬¬ä¸€æ¬¡è®°å¿†");
      record.set("user", "admin");
      record.set("timestamp", new Date().toISOString());

      try {
        await record.save();
        alert("âœ… æ•°æ®ä¸Šä¼ æˆåŠŸï¼è¯·å› LeanCloud æŸ¥çœ‹ Memory è¡¨ã€‚");
      } catch (err) {
        alert("âŒ ä¸Šä¼ å¤±è´¥ï¼š" + err.message);
      }
    };
  </script>
</body>
</html>
